---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "greynoise_sensor_bootstrap Resource - greynoise"
subcategory: ""
description: |-
  Sensor bootstrap resource provides options to bootstrap a server.
  It generates a script that can be used with a "remote-exec" provisioner to setup a GreyNoise sensor on a server.
---

# greynoise_sensor_bootstrap (Resource)

Sensor bootstrap resource provides options to bootstrap a server.
It generates a script that can be used with a "remote-exec" provisioner to setup a GreyNoise sensor on a server.

## Example Usage

```terraform
resource "greynoise_sensor_bootstrap" "this" {
  public_ip = "44.13.34.10"

  provisioner "remote-exec" {
    connection {
      host = "44.13.34.10"
      user = "ubuntu"
      port = 22

      private_key = "XXXXX" # private key
    }

    inline = [
      # ensure that script can run by waiting for cloud-init to complete
      "cloud-init status --wait > /dev/null",
      self.setup_script,
    ]
  }

  provisioner "remote-exec" {
    connection {
      host = "44.13.34.10"
      user = "ubuntu"
      port = 22

      private_key = "XXXXX" # private key
    }

    inline = [
      self.bootstrap_script,
    ]
    # failure is expected as SSH connection will be lost
    # once bootstrap completes and changes SSH port
    on_failure = continue
  }

  provisioner "remote-exec" {
    connection {
      host = "44.13.34.10"
      user = "ubuntu"
      port = self.ssh_port_selected

      private_key = "XXXXX" # private key
    }

    when = destroy
    inline = [
      self.unbootstrap_script,
    ]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `public_ip` (String) Public IP of the server to bootstrap.

### Optional

- `internal_ip` (String) Internal IP of the server to bootstrap.
- `nat` (Boolean) Whether or not NAT is used to route traffic to the server.
- `ssh_port` (Number) SSH port to configure after bootstrap. If not provided a random port is selected.

### Read-Only

- `bootstrap_script` (String) Script that can be run to boostrap a server.
- `setup_script` (String, Sensitive) Script that sets up the server environment.
- `ssh_port_selected` (Number) SSH port selected - same as ssh_port if set, otherwise randomly selected port.
- `unbootstrap_script` (String) Script that can be run to unboostrap a server.
